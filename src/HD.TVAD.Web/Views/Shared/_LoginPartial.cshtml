@using Microsoft.AspNetCore.Identity
@using HD.TVAD.Infrastructure.Identity
@using HD.TVAD.Web.Models
@using HD.TVAD.Entities.Entities.Security

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@if (SignInManager.IsSignedIn(User))
{
    @*<form asp-area="Home" asp-controller="Auth" asp-action="Logout" method="post" id="logoutForm" class="navbar-right">
            <ul class="nav navbar-nav navbar-right" style="margin-right:10px;">
                <li>
                    <a asp-area="Home" asp-controller="Manage" asp-action="Index" title="Manage">@Localizer["Hello"].Value @UserManager.GetUserName(User)!</a>
                </li>
                <li>
                    <button type="submit" class="btn btn-link navbar-btn navbar-link"><span class="icon icon-action-upload"></span> @Localizer["Log out"]</button>
                </li>
            </ul>
        </form>*@
    <form asp-area="Home" asp-controller="Auth" asp-action="Logout" method="post" id="logoutForm">
        <ul class="nav navbar-nav navbar-right" visible-when="User.Identity.IsAuthenticated" style="margin-top: 0px;">
            <li>
                <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding-right: 50px;">
                    <span>
                        @UserManager.GetUserName(User)
                    </span>
                    <span class="icon icon-user 4"></span>
                </a>
                <div class="dropdown-menu media">
                    <div class="media-left">
                        <img src="~/images/hd-ultrasoft.png" />
                    </div>
                    <div class="media-body">
                        <ul class="nav nav-bordered nav-stacked">
                            <li class="nav-header">@Localizer["Examples"]</li>
                            <li>
                                <a href="#">@Localizer["Bold"]</a>

                            </li>
                            <li><a href="#">@Localizer["Minimal"]</a></li>


                            <li class="nav-divider"></li>
                            <li class="nav-header">@Localizer["Accounts"]</li>


                            <li>
                                <a asp-area="Home" asp-controller="Manage" asp-action="Index">@Localizer["Profile"]</a>
                            </li>
                            <li>
                                <a asp-area="Home" asp-controller="Manage" asp-action="Setting">@Localizer["Setting"]</a>
                            </li>
                            <li>
                                <button type="submit" class="btn btn-link navbar-btn navbar-link" form="logoutForm">@Localizer["Log out"]</button>
                            </li>
                        </ul>
                    </div>
                </div>
            </li>
        </ul>
    </form>
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li><a asp-area="Home" asp-controller="Auth" asp-action="Register"><span class="icon icon-pencil"></span> @Localizer["Register"]</a></li>
        <li><a asp-area="Home" asp-controller="Auth" asp-action="Login"><span class="icon icon-login"></span> @Localizer["Log In"]</a></li>
    </ul>
}
