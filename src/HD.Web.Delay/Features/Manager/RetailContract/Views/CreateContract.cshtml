@using HD.TVAD.ApplicationCore.Entities.Booking
@{
	Layout = "_Layout";
	ViewBag.Title = Localizer["Create retail contract"].Value;
}
@model RetailContractCreateViewModel
@inject IRetailCustomerViewService _retailCustomerViewService
@inject IGetTypeService _getTypeService
@{
	var customerSelectItems = await _retailCustomerViewService.GetSelectListItemAsync();

	var retailBookingTypeId = _getTypeService.GetBookingTypes()
		.Where(s => s.Id == (int)BookingTypeEnum.Retail)
		.FirstOrDefault()
		.Id;
	var retailAnnexContractTypeId = _getTypeService.GetAnnexContractTypes()
		.Where(a => a.BookingTypeId == retailBookingTypeId)
		.FirstOrDefault()
		.Id;
}
	
	<div class="panel panel-flex panel-default">
		<div class="panel-heading">
			<div class="dashhead">
				<div class="dashhead-titles">
					<div class="dashhead-title">
						<h2>@ViewBag.Title</h2>
					</div>
				</div>
			</div>
		</div>
		<div class="panel-body">
			<div class="container-vertical-flex">
				<div class="flex flex-0">
					<div class="order-details__state js-shipping-state-container">
						<div class="order-details__progress">
							<div class="order-details__progress-bar">
								<div class="order-details__progress-bar-item order-details__progress-bar-item_highlighted"></div>
								<div class="order-details__progress-bar-item is-active order-details__progress-bar-item_highlighted"></div>
								<div class="order-details__progress-bar-item  order-details__progress-bar-item_highlighted"></div>
								<div class="order-details__progress-bar-item  order-details__progress-bar-item_highlighted"></div>
							</div>

							<div class="order-details__progress-states">
								<div class="order-details__progress-state is-active order-details__progress-state_highlighted">
									<div class="order-details__progress-state__name is-active">
										@Localizer["Create customer"]
									</div>
								</div>
								<div class="order-details__progress-state is-active is-current order-details__progress-state_highlighted">
									<div class="order-details__progress-state__name">
										@Localizer["Create contract"]
									</div>
								</div>
								<div class="order-details__progress-state order-details__progress-state_highlighted">
									<div class="order-details__progress-state__name">
										@Localizer["Select asset"]
									</div>
								</div>
								<div class="order-details__progress-state  order-details__progress-state_highlighted">
									<div class="order-details__progress-state__name ">
										@Localizer["Booking spot"]
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
				<div class="flex flex-1">
					<div class="col-md-offset-3 col-md-6">
						<form id="create-form" asp-area="Manager" asp-controller="RetailContract" asp-action="CreateContract" method="post" enctype="multipart/form-data" class="form-horizontal">

							<input type="hidden" asp-for="BookingTypeId" value="@retailBookingTypeId" />
							<input type="hidden" asp-for="AnnexContractTypeId" value="@retailAnnexContractTypeId" />
							<div class="form-group">
								<div class="col-md-4 control-label">
									<label asp-for="Code"></label>
								</div>
								<div class="col-md-8">
									<input asp-for="Code" class="form-control" type="text" />
									<span asp-validation-for="Code" class="text-danger"></span>
								</div>
							</div>
							<div class="form-group">
								<div class="col-md-4 control-label">
									<label asp-for="CustomerId"></label>
								</div>
								<div class="col-md-8">
									<select asp-for="CustomerId" class="form-control" asp-items="customerSelectItems"> </select>
									<span asp-validation-for="CustomerId" class="text-danger"></span>
								</div>
							</div>

							<div class="form-group">
								<div class="col-md-4 control-label">
									<label asp-for="ReceiveDate"></label>
								</div>
								<div class="col-md-8">
									<input asp-for="ReceiveDate" class="form-control" type="date" />
									<span asp-validation-for="ReceiveDate" class="text-danger"></span>
								</div>
							</div>
							<div class="form-group">
								<div class="text-center">
									<button id="submit" type="submit" value="" class="btn btn-primary-outline" onclick=""><span class="icon icon-plus"></span> @Localizer["Next"] </button>
									<button type="button" class="btn btn-default-outline" data-dismiss="modal" onclick="goBack()"><span class="icon icon-back"></span> @Localizer["Back"] </button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>

</div>
</div>